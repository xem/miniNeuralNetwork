M=(N,o,l)=>Array(N).fill().map(()=>Array(o).fill(l?0:Math.random())),O=(N,o,l,a,n,O,t,r="length")=>{for(5==l&&(a=M(N[0][r],N[r],1)),6==l&&(a=M(N[r],o[0][r],1)),n=0;n<N[r];n++)for(O=0;O<N[0][r];O++)if(0==l&&(N[n][O]+=o[n][O]),1==l&&(N[n][O]-=o[n][O]),2==l&&(N[n][O]*=o[n][O]),3==l&&(N[n][O]*=o),4==l&&(N[n][O]=o(N[n][O])),5==l&&(a[O][n]=N[n][O]),6==l)for(t=0;t<o[0][r];t++)a[n][t]+=N[n][O]*o[O][t];return a},N={i:(o,l,a,n=.1,O=N=>1/(1+Math.exp(-N)),t=N=>N*(1-N))=>{N.l=n,N.f=O,N.g=t,N.w=M(l,o),N.W=M(a,l),N.b=M(l,1),N.B=M(a,1)},p:(o,l,a,n,t)=>{if(a=o,n=O(N.w,a,6),O(n,N.b,0),O(n,N.f,4),t=O(N.W,n,6),O(t,N.B,0),O(t,N.f,4),!l)return t;O(l,t,1),O(t,N.g,4),O(t,l,2),O(t,N.l,3),O(N.W,O(t,O(n,0,5),6),0),O(N.B,t,0),O(n,N.g,4),O(n,O(O(N.W,0,5),l,6),2),O(n,N.l,3),O(N.w,O(n,O(a,0,5),6),0),O(N.b,n,0)}}